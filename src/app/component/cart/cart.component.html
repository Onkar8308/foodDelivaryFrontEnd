<app-menu></app-menu>
    <div class=" container-fluid">
        <div class="row justify-content-center ">
            <div class="col-xl-10">
                <div class="card shadow-lg "
                    style="background-image: url('https://wallpaperaccess.com/full/1843875.jpg'); background-color: grey; background-blend-mode: multiply;">
                    <div class="row p-2 mt-5 fs-3 justify-content-between mx-sm-2">
                        <div class="col" style="font-size: large;">
                            <p class="text-muted space mb-0  shop"> {{cartDetails.cust.customername}}</p>
                            <p class="text-muted space mb-0  shop">{{cartDetails.cust.customermobilenumber}}</p>
                        </div>
                        <div class="col">
                            <div class="row justify-content-right " style="margin-left:60vh ;">
                                <button class="btn btn-primary"(click)="viewPreviousOrders()">View Previous Orders</button>
                            </div>
                        </div>
                    </div>
                    <div class="row  mx-auto justify-content-center text-center">
                        <div class="col-12 mt-3 ">
                            <nav aria-label="breadcrumb" class="second ">
                                <ol class="breadcrumb indigo lighten-6 first  ">
                                    <li class="breadcrumb-item font-weight-bold "><a class="black-text text-uppercase "
                                            href="/restaurant"><span class="mr-md-3 mr-1">BACK TO SHOP</span></a><i
                                            class="fa fa-angle-double-right " aria-hidden="true"></i></li>
                                    <li class="breadcrumb-item font-weight-bold"><a
                                            class="black-text text-uppercase active-2" href="#"><span
                                                class="mr-md-3 mr-1">SHOPPING BAG</span></a><i
                                            class="fa fa-angle-double-right text-uppercase " aria-hidden="true"></i>
                                    </li>
                                    <!-- <li class="breadcrumb-item font-weight-bold"><a class="black-text text-uppercase " href="#"><span class="mr-md-3 mr-1">CHECKOUT</span></a></li> -->
                                </ol>
                            </nav>
                        </div>
                    </div>
                    <div class="row justify-content-around" >
                        <div class="col-md-5" >
                            <form [formGroup]="addressForm" >
                                <div class="card border-0" style="width: 500px;" >
                                    <div class="card-header pb-0" >
                                        <h2 class="card-title space ">Checkout</h2>
                                        <p class="card-text text-muted mt-4  space">SHIPPING DETAILS</p>
                                        <hr class="my-0">
                                    </div>
                                    <div class="container p-0" >
                                        <div class="card px-4" > 
                                            <div class="row gx-3">
                                                <div class="col-12">
                                                    <div class="d-flex flex-column">
                                                        <p class="text mb-1" style="font-weight: bold; font-size: 17px;">Address</p>
                                                        <input class="form-control mb-3" formControlName="area"
                                                            type="text" placeholder="*Enter Area" value="">
                                                        <span
                                                            *ngIf="addressForm.get('area')?.errors?.required && addressForm.get('area')?.touched"
                                                            style="color: red;">area is required</span>
                                                    </div>
                                                </div>
                                                <div class="col-12">
                                                    <div class="d-flex flex-column">
                                                        <p class="text mb-1" style="font-weight: bold; font-size: 17px;">City </p>
                                                        <input class="form-control mb-3" formControlName="city"
                                                            type="text" placeholder="*City">
                                                        <span
                                                            *ngIf="addressForm.get('city')?.errors?.required && addressForm.get('city')?.touched"
                                                            style="color: red;">city is required</span>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <div class="d-flex flex-column">
                                                        <p class="text mb-1" style="font-weight: bold; font-size: 17px;">state</p>
                                                        <input class="form-control mb-3" formControlName="state"
                                                            type="text" placeholder="*State">
                                                        

                                                        <span
                                                            *ngIf="addressForm.get('state')?.errors?.required && addressForm.get('state')?.touched"
                                                            style="color: red;">state is required</span>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <div class="d-flex flex-column">
                                                        <p class="text mb-1" style="font-weight: bold; font-size: 17px;">country</p>
                                                        <input class="form-control mb-3" formControlName="country"
                                                            type="text" placeholder="*country">
                                                        <span
                                                            *ngIf="addressForm.get('country')?.errors?.required && addressForm.get('country')?.touched"
                                                            style="color: red;">country is required</span>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <div class="d-flex flex-column" style="font-weight: bold; font-size: 17px;">
                                                        <p class="text mb-1">pincode</p>
                                                        <input class="form-control mb-3 pt-2 " formControlName="pincode"
                                                            type="number" placeholder="*enter 6 digit pincode"
                                                            pattern="^[0-9]\d{0,5}$" maxlength="10">
                                                        <span
                                                            *ngIf="addressForm.get('pincode')?.errors?.required && addressForm.get('pincode')?.touched "
                                                            style="color: red;">
                                                            Pincode is required.
                                                        </span>
                                                        <span *ngIf="addressForm.get('pincode')?.touched 
                                                            && addressForm.get('pincode')?.invalid"
                                                            style="color: red;">
                                                            Pincode should be 6 digits And pincode should be number.
                                                        </span>

                                                    </div>
                                                </div>
                                                <div class="col-12">
                                                    <button class="btn btn-dark"
                                                        [disabled]="addressForm.invalid" (click)="saveAdd()">
                                                        <span class="ps-3">Save New Address</span>
                                                        <span class="fas fa-arrow-right"></span>
                                                    </button>
                                                    <button class="btn btn-dark mb-3" (click)="showPreviusAdd()"
                                                        style="margin-left: 10vh;">
                                                        <span class="ps-3">Use Previous Address</span>
                                                        <span class="fas fa-arrow-right"></span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="col-md-5" >
                            <div class="card border-0 ">
                                <div class="card-header ">
                                    <h2 class="card-title space">YOUR ORDER <span
                                            class=" small text-muted ml-2 cursor-pointer">EDIT SHOPPING BAG</span> </h2>
                                            <h2 class="small text-muted ml-2 cursor-pointer">clear cart</h2>
                                            <hr class="my-3">
                                        </div>
                                 <div class="card-header">               
                                </div>
                                <div class="card-body pt-0" style="background-color:bisque;" *ngFor="let ord of orders  | paginate: { itemsPerPage: count, currentPage: p }">
                                    <div class="row  justify-content-between">
                                        <div class="col-auto col-md-7">
                                            <div class="media flex-column flex-sm-row">
                                                <img class=" img-fluid" src="{{ord.item.itemimage}}" width="62" height="62">
                                                <div class="media-body  my-auto">
                                                    <div class="row ">
                                                        <div class="col-auto">
                                                            <p class="mb-0"><b>{{ord.item.itemname}}</b></p><small
                                                                class="text-muted">{{ord.item.itemstatus}}</small>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                         <div class=" pl-0 flex-sm-col col-auto  my-auto">
                                          quantity: {{ord.quantity}}
                                        </div> 
                                        <div class=" pl-0 flex-sm-col col-auto  my-auto " >
                                            <p><b >{{ord.item.itemcost*ord.quantity}}</b></p>
                                        </div>
                                        
                                        
                                    </div>

                                    <hr class="my-2">
                                    
                                </div>  
                                <div class="text-right">
                                    <pagination-controls (pageChange)="p = $event"></pagination-controls>
                                </div>

                                <div class="row" >
                                    <div class="col">
                                        <div class="row justify-content-between">
                                            <div class="col-4">
                                                <p><b>Total</b></p>
                                            </div>
                                            <div class="flex-sm-col col-auto">
                                                <p class="mb-1"><b>{{total}}</b></p>
                                            </div>
                                        </div>
                                        <hr class="my-0">
                                    </div>
                                </div>
                                <div class="row" *ngIf="total>0">
                                    <div class="col-12">
                                        <button class="btn btn-primary mb-3" (click)="payment(total)"
                                            style="margin-left: 30vh;margin-top: 5vh;">
                                            <span class="ps-3">Pay  &#x20B9;{{total}}</span>
                                            <span class="fas fa-arrow-right"></span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>